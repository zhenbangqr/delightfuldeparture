<!DOCTYPE html>
<html lang="en">
        <!--
    Semester 1 Assignment
    Delightful Departure Website

    Delightful Departure Login Page
    Author: Wai Yan Ching
    Date: 16 September 2023
    Filename: login.html
-->
<head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=1024, height=768"/>
    <script src="/Html Funeral/Waiz funeral/javascript/reward.js"></script>
    

    <link href = "../Waiz funeral/stylesheets/reward_styles.css" rel="stylesheet"/>
    <title>Reward - Delightful Departure</title>
</head>


<header class="navbar">
    <div class="logo">
        <img src="/Html Funeral/ZhenBang funeral/images/ddmainlogo.png" alt="Logo">
    </div>
    <nav class="listeditems">
        <ul class="navlist">

          <li class="dropdown">
            <a href="#" class="dropdown-toggle">
              <i class=""></i>&nbsp;Home
            </a>
            <ul class="dropdown-menu">
              <li><a href="/transport.html">About Us</a></li>
              <li><a href="/another-transport.html">Terms & Conditions</a></li>
              <li><a href="/another-transport.html">Insurance Promotions</a></li>
              <li><a href="/another-transport.html">Transport Services</a></li>
            </ul>
          </li>

          <li class="dropdown">
            <a href="#" class="dropdown-toggle">
              <i class="fa-solid fa-van-shuttle"></i>&nbsp;Contact Us
            </a>
            <ul class="dropdown-menu">
              <li><a href="/transport.html">Contact</a></li>
              <li><a href="/another-transport.html">Locate Us</a></li>
              <li><a href="/another-transport.html">Live Chat</a></li>
              <li><a href="/another-transport.html">Feedback</a></li>
            </ul>
          </li>

          <li class="dropdown">
            <a href="#" class="dropdown-toggle">
              <i class="fa-solid fa-van-shuttle"></i>&nbsp;Products
            </a>
            <ul class="dropdown-menu">
              <li><a href="/transport.html">Transportation</a></li>
              <li><a href="/another-transport.html">Goods</a></li>
              <li><a href="/another-transport.html">Coffins</a></li>
              <li><a href="/another-transport.html">Services</a></li>
              <li><a href="/another-transport.html">Tracking</a></li>
            </ul>
          </li>

          <li class="dropdown">
            <a href="#" class="dropdown-toggle">
              <i class="fa-solid fa-van-shuttle"></i>&nbsp;Membership
            </a>
            <ul class="dropdown-menu">
              <li><a href="/login.html">Login</a></li>
              <li><a href="/another-transport.html">Status</a></li>
              <li><a href="/another-transport.html">Rewards</a></li>
              <li><a href="/another-transport.html">Renewal</a></li>
            </ul>
          </li>
</header>
<br>
    
<body>
    <div class="overlay" id="overlay">
        <div class="popup" id="popup">
            <p>Thank you for becoming a member of Delightful Departure.Here is 500 Points as your complimentary gift.</p>
            <button id="closeButton">Close</button>
        </div>
    </div>

    <div class="title">
      <h1>Rewards Page</h1>
    </div>
    <div class="reward-container">
      <p class="points">Your Points: <span id="userPoints">500</span></p>

     <div class="product-container">
      <div class="product" data-points="50">
        <div class="rewardPic">
          <img src="/Html Funeral/Waiz funeral/images/flower 1.jpeg"alt="bouquet of flower">
        </div>
        <div class="productdetails">
        <h2>Condolences Flower</h2>
        <p>Luxurious funeral wreath of roses, lilies, chrysanthemums and mixed seasonal flowers in light colors and decorative greenery.</p>
        <p>(50 Points)</p>
        
        </div>
        <button onclick="addToCart(this)">Add to Cart</button>
        
      </div>
 

      <div class="product" data-points="20">
        <div class="rewardPic">
          <img src="/Html Funeral/Waiz funeral/images/peanut.jpeg"alt="peanut">
        </div>
        <div class="productdetails">
        <h2>Peanut</h2>
        <p>Peanut</p>
        <p>(20 Points)</p>
        
        </div>
        <button onclick="addToCart(this)">Add to Cart</button>
       </div>

      <div class="product" data-points="100">
        <div class="rewardPic">
          <img src="/Html Funeral/Waiz funeral/images/danceTeam.jpeg" alt="Dance Team">
        </div>
        <div class="productdetails">
          <h2>Dance Ritual</h2>
          <p>Special Ritual done by our most professional funeral management team</p>
          <p>(100 Points)</p>
          
        </div>
        <button onclick="addToCart(this)">Add to Cart</button>
      </div>

      <div class="product" data-points="60">
        <div class="rewardPic">
          <img src="/Html Funeral/Waiz funeral/images/paperHouse.jpeg"alt="Papercraft House">
        </div>
        <div class="productdetails">
          <h2>House Papercraft</h2>
          <p>Description of Product 4.</p>
          <p>(60 Points)</p>
          
        </div>
        <button onclick="addToCart(this)">Add to Cart</button>
      </div>

      <div class="product" data-points="35">
        <div class="rewardPic">
          <img src="/Html Funeral/Waiz funeral/images/blackdancekeychain.jpeg" alt="Dance Team Keychain">
        </div>
        <div class="productdetails">
          <h2>Memorable Keychain</h2>
          <p>KeyChain with our most professional funeral management team</p>
          <p>(35 Points)</p>
          
        </div>
        <button onclick="addToCart(this)">Add to Cart</button>
      </div>

      <div class="product" data-points="200">
        <div class="rewardPic">
          <img src="/Html Funeral/Waiz funeral/images/food.jpeg"alt="Buffet">
        </div>
        <div class="productdetails">
          <h2>Buffet</h2>
          <p>Enjoy buffet at our highclass dining restaurant just above the floor</p>
          <p>(200 Points per pax)</p>
          
        </div>
        <button onclick="addToCart(this)">Add to Cart</button>
      </div>
    </div>
      <!-- Shopping cart -->
      <div class="cart">
        <h2>Shopping Cart</h2>
        <ul id="cartItems">
          <!-- Cart items will be displayed here -->
        </ul>
        <br>
        <p>Total Points: <span class="points" id="cartTotal">0</span></p>
        <button class="checkout" onclick="checkout()">Checkout</button>
  </div>

  <script>
    let userPoints = 500;

    let cartItems = [];

    function addToCart(button) {
        const product = button.parentElement;
        const productName = product.querySelector('h2').textContent;
        const productPoints = parseInt(product.getAttribute('data-points'));

        // Calculate the total points required for this product
        const totalPointsRequired = productPoints * 1; // Assuming user wants to add 1 item


        // Check if the user has enough points to add the item
        const availablePoints = calculateAvailablePoints();
        if (totalPointsRequired > availablePoints) {
            // Display an error message
            alert('Selected item exceeds available points.');
            return;
        }

        // Create a cart item object
        const cartItem = {
            name: productName,
            points: productPoints,
            amount: 1, // Default amount
        };

        // Check if the product is already in the cart
        const existingItemIndex = cartItems.findIndex(item => item.name === productName);

        if (existingItemIndex !== -1) {
            // If the product is already in the cart, increment the amount
            cartItems[existingItemIndex].amount++;
        } else {
            // Otherwise, add the product to the cart
            cartItems.push(cartItem);
        }

        // Refresh the cart display
        updateCartDisplay();
    }
    function updateCartDisplay() {
      const cartContainer = document.getElementById('cartItems');
      cartContainer.innerHTML = '';

      cartItems.forEach(item => {
          const cartItemLi = document.createElement('li');
          cartItemLi.className = 'cart-item fade-in';

          // Create a container for product name and points (far left)
          const leftContainer = document.createElement('div');
          leftContainer.className = 'left-container';

          // Display the product name and points in the left container
          const productNameSpan = document.createElement('span');
          productNameSpan.textContent = item.name;
          leftContainer.appendChild(productNameSpan);

          const productPointsSpan = document.createElement('span');
          productPointsSpan.textContent = `(${item.points} points)`;
          leftContainer.appendChild(productPointsSpan);

          cartItemLi.appendChild(leftContainer);

          

          // Create a div for amount selection and remove button (far right)
          const rightContainer = document.createElement('div');
          rightContainer.className = 'right-container';

           // Display the total points for this cart item
           const totalPointsSpan = document.createElement('span');
            totalPointsSpan.className = 'totalPointsDisplay';
            totalPointsSpan.textContent = `Total: ${item.points * item.amount} points`;
            rightContainer.appendChild(totalPointsSpan);

          // Create a select element for choosing the amount
          const amountSelect = document.createElement('select');
          amountSelect.className = 'select';
          for (let i = 1; i <= 10; i++) {
              const option = document.createElement('option');
              option.value = i;
              option.text = i;
              amountSelect.appendChild(option);
          }
            amountSelect.value = item.amount;
            amountSelect.addEventListener('change', function () {
                const newAmount = parseInt(this.value);

                // Check if the new amount exceeds available points
                const availablePoints = calculateAvailablePoints();
                if (newAmount * item.points > availablePoints) {
                    // Display an error message
                    alert('Selected amount exceeds available points.');

                    // Reset the select to the previous value
                    this.value = item.amount;
                    return;
                }

                item.amount = newAmount;
                updateCartDisplay();
            });

            rightContainer.appendChild(amountSelect);

            


            // Display the remove button as text
            const removeButton = document.createElement('button');
            removeButton.textContent = 'Remove';
            removeButton.className = 'remove-button';
            removeButton.onclick = function () {
                // Remove the item from the cartItems array
                const itemIndex = cartItems.findIndex(cartItem => cartItem.name === item.name);
                if (itemIndex !== -1) {
                    cartItems.splice(itemIndex, 1);
                }

                // Refresh the cart display
                updateCartDisplay();
            };
            rightContainer.appendChild(removeButton);

            cartItemLi.appendChild(rightContainer);

            cartContainer.appendChild(cartItemLi);
        });

           // Calculate and display the total points
          const cartTotal = cartItems.reduce((total, item) => total + item.points * item.amount, 0);
          document.getElementById('cartTotal').textContent = cartTotal;

          // Calculate and display the remaining user points
          const remainingPoints = calculateAvailablePoints();
          document.getElementById('userPoints').textContent = remainingPoints;
    }

    function calculateAvailablePoints() {
        const cartTotal = cartItems.reduce((total, item) => total + item.points * item.amount, 0);
        return userPoints - cartTotal;
    }

    function checkout() {
        alert("Checkout complete! Thank you for your purchase.");
        cartItems = [];
        updateCartDisplay();
    }
  </script>
  <div class="disclaimer">
    <h1>Reward Point System Disclaimer</h1>
    <p>Before using our reward point system, please read and understand the following disclaimer:</p>

    <ul>
        <li><strong>Eligibility:</strong> Participation in our reward point system is open to eligible customers only. You must meet the eligibility criteria outlined in our terms and conditions to earn and redeem reward points.</li>
        <br>
        <li><strong>Point Valuation:</strong> The value of reward points may change over time and can be subject to adjustments or modifications by us. We reserve the right to alter point values at our discretion without prior notice.</li>
        <br>
        <li><strong>Account Security:</strong> It is your responsibility to maintain the security of your account. Any unauthorized access, use, or redemption of your reward points due to negligence on your part will not be our responsibility.</li>
        <br>
        <li><strong>Disclaimer of Liability:</strong> We disclaim all liability for any loss, damage, or inconvenience arising from the use of our reward point system. By participating, you agree that we are not responsible for any issues related to the reward point system.</li>
    </ul>

    <h2>Reward Points for Package</h2>
   

    <table>
        <tr>
            <th>DD Package</th>
            <th>Points Earned</th>
        </tr>
        <tr>
            <td>DD Serenity</td>
            <td>500 points</td>
        </tr>
        <tr>
            <td>DD Tranquility</td>
            <td>400 points</td>
        </tr>
        <tr>
            <td>DD Remembrance</td>
            <td>300 points</td>
        </tr>
        <tr>
            <td>DD Harmony</td>
            <td>500 points</td>
        </tr>
        <tr>
            <td>DD Legacy</td>
            <td>400 points</td>
        </tr>
    </table>

    <p>We encourage you to review our complete terms and conditions for our reward point system before participating. If you have any questions or concerns, please contact our customer support for assistance.</p>

  </div>
  
</div>
    <aside class="livechat">
        <i class="fa-solid fa-headset"></i><a href="livechat.html"><p>Live Chat</p></a>
    </aside>
  

</body>


<footer class="footer">
    <h2><i class="fa-solid fa-square-person-confined"></i></i> Delightful Departure</h2>
    <h3>Day of the Death, which you can't follow up.</h3>
    <h4><div class="map"><a href="https://www.google.com/maps/dir//Lobby+Level+Sunway+Resort,+Persiaran+Lagoon,+Bandar+Sunway,+47500+Subang+Jaya,+Selangor./data=!4m6!4m5!1m1!4e2!1m2!1m1!1s0x31cc4c86db2d8de9:0xc1f3eb2b5e4da6eb?sa=X&ved=2ahUKEwidoe3NqL6AAxVfxDgGHTlLAgoQ9Rd6BAhEEAA&ved=2ahUKEwidoe3NqL6AAxVfxDgGHTlLAgoQ9Rd6BAhTEAQ">Lobby Level Sunway Resort, <br>Persiaran Lagoon, Bandar Sunway, <br>47500 Subang Jaya, <br>Selangor.</a></div></h4>
    <p><i class="fa-solid fa-phone"></i><a href="tel:60167719430">&nbsp;0167719430</a></p>
    <p><i class="fa-solid fa-envelope"></i><a href="mailto:delightfuldeparture@gmail.com">&nbsp;delightfuldeparture@gmail.com</a></p>
</footer>





<script src="/Html Funeral/Waiz funeral/javascript/reward.js"></script>
<script src="/Html Funeral/Waiz funeral/javascript/mainscript.js"></script>





</html>
